

{{> header }}

<h1>General settings</h1>

<p>General account settings</p>

{{> show_flash_messages }}

<div class="row">&nbsp;</div>

<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        Company
      </div>
      <div class="panel-body">
        <div class="row">

          <div class="col-md-5">
            <form class="form-horizontal" method="POST" action="/settings/company/" id="company_edit_form">
              <div class="form-group">
                <label for="input_company_name" class="col-md-4 control-label">Company name</label>
                <div class="col-md-8">
                  <input class="form-control" id="input_company_name" placeholder="Our company name" value="{{company.name}}" name="name">
                </div>
              </div>
              <div class="form-group">
                <label for="input_country" class="col-md-4 control-label">Country</label>
                <div class="col-sm-8">
                  <input class="form-control" id="input_country" value="{{company.country}}" name="country">
                </div>
              </div>
              <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                  <button type="submit" class="btn btn-success pull-right">Save changes</button>
                </div>
              </div>
            </form>
          </div>

          <div class="col-md-offset-1 col-md-5">
            <form class="form-horizontal" method="POST" action="/settings/company/export/" id="company_export_form">
              <div class="form-group">
                <label for="input_country" class="col-md-6 control-label">Export company data</label>
                <div class="col-md-6">
                  <button type="submit" class="btn btn-success">Download</button>
                </div>
              </div>
              <div class="form-group">
                <div class="col-md-offset-2">
                  <em>Download company dump file that could be used to restore account on another TimeOff.Management installation</em>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>





<div class="row">
  <div class="col-md-6">

    <div class="row main-row_header">
      <div class="col-md-12">Bank Holidays</div>
    </div>

    <form id="delete_bankholiday_form" method="post" action="/settings/bankholidays/delete/"></form>
    <form id="update_bankholiday_form" method="post" action="/settings/bankholidays/">

    <div class="row">
        <div class="col-md-6"><label class="control-label">Holiday Name</label></div>
        <div class="col-md-3"><label class="control-label">Date</label></div>
        <div class="col-md-2">
        </div>
    </div>

    <div class="row">&nbsp;</div>


    {{# unless company.bank_holidays.length }}
    <div class="row">
        <div class="col-md-4">No Bank holiday records</div>
    </div>
    {{/unless}}

    {{#each company.bank_holidays}}
    <div class="row">

        <div class="col-md-6">
            <input type="text" class="form-control" value="{{name}}" name="name__{{@index}}">
        </div>

        <div class="col-md-3">
          <div class="input-append date">
          <input type="text" class="form-control" value="{{as_date date}}" name="date__{{@index}}" data-date-autoclose="1" data-provide="datepicker" data-date-format="yyyy-mm-dd">
          <span class="add-on"><i class="icon-th"></i></span>
          </div>
        </div>

        <div class="col-md-2">
          <button class="btn btn-default pull-right bankholiday-remove-btn" type="button" value="{{@index}}"><span class="fa fa-remove"></span></button>
        </div>
    </div>

    <div class="row">&nbsp;</div>

    {{/each}}


    <div class="row">&nbsp;</div>

    <div class="row">
        <div class="col-md-offset-6 col-md-3">
          <button class="btn btn-default" type="button" data-toggle="modal" data-target="#add_new_bank_holiday_modal" id="add_new_bank_holiday_btn">Add new</button>
        </div>
        <div class="col-md-2">
          <button type="submit" class="btn btn-success pull-right">Save changes</button>
        </div>
    </div>

    </form>




  </div>


  <div class="col-md-6 setting-general-2nd-column">

    <div class="row main-row_header">
      <div class="col-md-12">Leave Types</div>
    </div>


    <div class="row">
      <div class="col-md-6"><label class="control-label">Leave Type Name</label></div>
      <div class="col-md-offset-3 col-md-2"><label class="control-label">Limit</label></div>
    </div>

    <div class="row">&nbsp;</div>

    <form id="delete_leavetype_form" method="post" action="/settings/leavetypes/delete/"></form>

    <form id="leave_type_edit_form" method="post" action="/settings/leavetypes/">

    {{# unless company.leave_types.length }}
    <div class="row">
        <div class="col-md-4">No Leave type records</div>
    </div>
    {{/unless}}


    {{#each company.leave_types}}
    <div class="row">

        <div class="col-md-6">
            <input type="text" class="form-control" value="{{name}}" name="name__{{@index}}">
        </div>

        <div class="col-md-3">
            <input name="use_allowance__{{@index}}" id="use_allowance__{{@index}}" type="checkbox" {{#if use_allowance}}checked="checked"{{/if}}>
            <label for="use_allowance__{{@index}}" class="control-label">Use allowance</label>
        </div>

        <div class="col-md-2">
          <input type="number" class="form-control">
        </div>

        <div class="col-md-1">
          <button class="btn btn-default pull-right leavetype-remove-btn" value="{{@index}}"><span class="fa fa-remove"></span></button>
        </div>
    </div>

    <div class="row">&nbsp;</div>

    {{/each}}



    <div class="row">&nbsp;</div>

    <div class="row">
        <div class="col-md-offset-7 col-md-3">
          <button class="btn btn-default" data-toggle="modal" data-target="#add_new_leave_type_modal" type="button" id="add_new_leave_type_btn">Add new</button>
        </div>
        <div class="col-md-2">
          <button type="submit" class="btn btn-success pull-right">Save changes</button>
        </div>
    </div>


    </form>


  </div>


</div>


{{> add_new_bank_holiday_modal
  container_id='add_new_bank_holiday_modal'
  form_action='/settings/bankholidays/'
}}


{{> add_new_leave_type_modal
  container_id='add_new_leave_type_modal'
  form_action='/settings/leavetypes/'
}}

{{> footer }}
